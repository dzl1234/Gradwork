<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>聊天 - 跨语言智能聊天平台</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/chat.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
<!-- 导航栏 -->
<nav class="navbar">
    <div class="navbar-container">
        <a href="#" class="navbar-logo">多语言聊天</a>
        <ul class="navbar-nav">
            <li><a href="#" id="user-profile"><i class="fas fa-user"></i> <span id="current-username">用户</span></a></li>
            <li><a href="#" id="logoutBtn"><i class="fas fa-sign-out-alt"></i> 退出登录 </a></li>
        </ul>
    </div>
</nav>

<!-- 主要内容 -->
<div class="chat-container">
    <!-- 侧边栏 - 好友列表 -->
    <div class="sidebar">
        <div class="user-search">
            <input type="text" class="search-input" placeholder="搜索好友...">
        </div>
        <div class="friends-list" id="friendsList">
            <!-- 好友列表项将通过JavaScript动态生成 -->
        </div>
    </div>

    <!-- 聊天主区域 -->
    <div class="chat-main">
        <div class="chat-header">
            <div class="chat-user-info">
                <div class="chat-user-avatar">用户</div>
                <div class="chat-user-name" id="chatTitle">选择一个好友开始聊天</div>
            </div>
            <div class="chat-actions">
                <button class="chat-action-button" id="addFriendBtn"><i class="fas fa-user-plus"></i></button>
                <button class="chat-action-button" id="toggleAIBtn"><i class="fas fa-robot"></i></button>
            </div>
        </div>
        <div class="chat-messages" id="chatMessages">
            <!-- 聊天消息将通过JavaScript动态生成 -->
        </div>
        <div class="chat-input-container">
            <div class="chat-tools">
                <button class="chat-tool-button" id="emojiBtn"><i class="fas fa-smile"></i></button>
                <div class="language-selector">
                    <select id="messageLanguage">
                        <option value="zh">中文</option>
                        <option value="en">English</option>
                        <option value="ja">日本語</option>
                        <option value="ko">한국어</option>
                        <option value="fr">Français</option>
                        <option value="de">Deutsch</option>
                        <option value="es">Español</option>
                        <option value="ru">Русский</option>
                    </select>
                </div>
            </div>
            <div class="chat-input-wrapper">
                <textarea class="chat-input" id="messageInput" placeholder="输入消息..."></textarea>
                <button class="chat-send-btn" id="sendButton"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- AI助手区域 -->
    <div class="ai-assistant-container" id="aiAssistantPanel">
        <div class="ai-assistant-header">
            <h3>智能问答</h3>
        </div>
        <div class="ai-assistant-chat" id="aiResponseContainer">
            <!-- AI助手的聊天记录 -->
        </div>
        <div class="ai-input-container">
            <div class="ai-input-wrapper">
                <input type="text" class="ai-input" id="aiQuestionInput" placeholder="输入问题...">
                <button class="ai-send-btn" id="submitAIBtn"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
</div>

<!-- 添加好友模态框 -->
<div id="addFriendModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3>添加好友</h3>
        <input type="text" id="addFriendInput" placeholder="输入好友用户名...">
        <button id="confirmAddFriendBtn">确认</button>
    </div>
</div>

<!-- 好友管理模态框 -->
<div id="friendsModal" class="modal">
    <div class="modal-content">
        <span class="close" id="closeFriendsModal">&times;</span>
        <h3>好友管理</h3>
        <div class="friends-modal-content">
            <div class="search-container">
                <input type="text" id="searchUserInput" placeholder="搜索用户...">
                <button id="searchUserBtn">搜索</button>
            </div>
            <div class="modal-friends-list" id="modalFriendsList">
                <!-- 好友列表将通过JavaScript动态生成 -->
            </div>
            <div class="search-results" id="searchResults">
                <!-- 搜索结果将通过JavaScript动态生成 -->
            </div>
        </div>
    </div>
</div>

<!-- 通知容器 -->
<div id="notificationContainer"></div>

<script src="/js/auth.js"></script>
<script src="/js/chat.js"></script>
<script src="/js/friends.js"></script>
<script src="/js/ai-assistant.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sockjs-client/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs/lib/stomp.min.js"></script>
</body>
</html>
